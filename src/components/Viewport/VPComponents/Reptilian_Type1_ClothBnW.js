/*
Auto-generated by: https://github.com/pmndrs/gltfjsx
*/

import React, { useRef, useEffect } from "react";
import { useGLTF, useAnimations, useTexture } from "@react-three/drei";

import { useLoader } from "@react-three/fiber";
import * as THREE from "three";

export default function Reptilian_Type1_ClothBnW({
  eyecolor,
  color,
  armor,
  skin,
  animationClip,
  ...props
}) {
  const group = useRef();
  const { nodes, materials } = useGLTF(
    "/Reptilian_Type1_ClothBnW-transformed.glb"
  );

  const { animations } = useGLTF("/ReptilianAnimation1_Motion_Anim.glb");
  const { actions } = useAnimations(animations, group);

  useEffect(() => {
    console.log("This is BAYC MODEL ACTIONS", actions);
    console.log("This is BAYC MODEL AC", animationClip);
    if (animationClip === "Play") {
      setTimeout(() => {
        console.log("1 clip");
        // actions["CC_Base|FBXExportClip_0.001"].setEffectiveWeight(1);

        if (
          actions["ReptilianAnimation1_Motion_Anim_0"]._effectiveTimeScale === 0
        ) {
          actions["ReptilianAnimation1_Motion_Anim_0"].setEffectiveTimeScale(1);
        } else {
          actions["ReptilianAnimation1_Motion_Anim_0"].play();
        }
      }, 0);
    } else {
      setTimeout(() => {
        console.log("2 clip");
        // actions["CC_Base|FBXExportClip_0.001"].setEffectiveWeight(1);
        actions["ReptilianAnimation1_Motion_Anim_0"].setEffectiveTimeScale(0);
      }, 0);
    }

    // setTimeout(() => {
    //     // actions["CC_Base|FBXExportClip_0.001"].setEffectiveWeight(1);
    //     actions["CC_Base|FBXExportClip_0"].play();
    // }, 0);
  }, [animationClip]);

  return (
    <group {...props} dispose={null}>
      <group position={[-2.8, 0, 0]}>
        <skinnedMesh
          frustumCulled={false}
          geometry={nodes.cc_base_tongue_1.geometry}
          material={materials.Std_Tongue}
          skeleton={nodes.cc_base_tongue_1.skeleton}
        />
        <skinnedMesh
          frustumCulled={false}
          geometry={nodes.cc_base_tongue_1_1.geometry}
          material={materials.Std_Skin_Head}
          material-color={skin}
          skeleton={nodes.cc_base_tongue_1_1.skeleton}
        />

        <skinnedMesh
          frustumCulled={false}
          geometry={nodes.cc_base_tongue_1_6.geometry}
          material={materials.Std_Eyelash}
          skeleton={nodes.cc_base_tongue_1_6.skeleton}
        />
        <skinnedMesh
          frustumCulled={false}
          geometry={nodes.cc_base_tongue_1_7.geometry}
          material={materials.Std_Upper_Teeth}
          skeleton={nodes.cc_base_tongue_1_7.skeleton}
        />
        <skinnedMesh
          frustumCulled={false}
          geometry={nodes.cc_base_tongue_1_8.geometry}
          material={materials.Std_Lower_Teeth}
          skeleton={nodes.cc_base_tongue_1_8.skeleton}
        />
        <skinnedMesh
          frustumCulled={false}
          geometry={nodes.cc_base_tongue_1_9.geometry}
          material={materials.Std_Eye_Occlusion_R}
          skeleton={nodes.cc_base_tongue_1_9.skeleton}
        />
        <skinnedMesh
          frustumCulled={false}
          geometry={nodes.cc_base_tongue_1_10.geometry}
          material={materials.Std_Eye_Occlusion_R}
          skeleton={nodes.cc_base_tongue_1_10.skeleton}
        />
        <skinnedMesh
          frustumCulled={false}
          geometry={nodes.cc_base_tongue_1_11.geometry}
          material={materials.Std_Eye_R}
          material-color={eyecolor}
          skeleton={nodes.cc_base_tongue_1_11.skeleton}
        />
        <skinnedMesh
          frustumCulled={false}
          geometry={nodes.cc_base_tongue_1_12.geometry}
          material={materials.Std_Cornea_R}
          skeleton={nodes.cc_base_tongue_1_12.skeleton}
        />
        <skinnedMesh
          frustumCulled={false}
          geometry={nodes.cc_base_tongue_1_13.geometry}
          material={materials.Std_Eye_L}
          material-color={eyecolor}
          skeleton={nodes.cc_base_tongue_1_13.skeleton}
        />
        <skinnedMesh
          frustumCulled={false}
          geometry={nodes.cc_base_tongue_1_14.geometry}
          material={materials.Std_Cornea_L}
          skeleton={nodes.cc_base_tongue_1_14.skeleton}
        />
        <skinnedMesh
          frustumCulled={false}
          geometry={nodes.cc_base_tongue_1_5.geometry}
          material={materials.Std_Nails}
          skeleton={nodes.cc_base_tongue_1_5.skeleton}
        />

        <skinnedMesh
          frustumCulled={false}
          geometry={nodes.cc_base_tongue_1_3.geometry}
          material={materials.Std_Skin_Body}
          material-color={skin}
          skeleton={nodes.cc_base_tongue_1_3.skeleton}
        />

        {armor === "None" ? (
          <>
            <skinnedMesh
              frustumCulled={false}
              geometry={nodes.cc_base_tongue_1_2.geometry}
              material={materials.Std_Skin_Body}
              material-color={skin}
              skeleton={nodes.cc_base_tongue_1_2.skeleton}
            />

            <skinnedMesh
              frustumCulled={false}
              geometry={nodes.cc_base_tongue_1_4.geometry}
              material={materials.Std_Skin_Body}
              material-color={skin}
              skeleton={nodes.cc_base_tongue_1_4.skeleton}
            />
          </>
        ) : (
          <></>
        )}

        {armor === "Beta" ? (
          <>
            <skinnedMesh
              frustumCulled={false}
              geometry={nodes.cc_base_tongue_1_15.geometry}
              material={materials.PRCCM_SF2Suit_Upper}
              material-color={color}
              skeleton={nodes.cc_base_tongue_1_15.skeleton}
            />
            <skinnedMesh
              frustumCulled={false}
              geometry={nodes.cc_base_tongue_1_16.geometry}
              material={materials.PRCCM_SF2Suit_Lower}
              material-color={color}
              skeleton={nodes.cc_base_tongue_1_16.skeleton}
            />
          </>
        ) : (
          <></>
        )}

        <primitive object={nodes.cc_base} />
      </group>
    </group>
  );
}

// useGLTF.preload("/Reptilian_Type1_ClothBnW-transformed.glb");
